<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <p>1</p>
    <p>2</p>
    <p>3</p>

    <script>
        const m = new Map();
        m.set('name', 'alex')
        m.set('age', 18);
        console.log(m);

        m.set(true, 'true');
        m.set({}, 'object');
        m.set(new Set([1, 2]), 'set');
        m.set(undefined, undefined);
        console.log(m);

        m.set('age', 18).set('age', 27); //覆盖
        console.log(m);

        // get
        console.log(m.get('age'));
        console.log(m.get('name'));

        // has
        console.log(m.has('age'));

        // delete
        m.delete('name');
        console.log(m);

        // size
        console.log(m.size);

        // clear
        // m.clear()
        // console.log(m);

        // foreach
        m.forEach(function (value, key, map) {
            console.log(value, key, map === m);
            console.log(m);
        }, document)


        // 构造函数的参数
        // 数组，只能传二维数组
        console.log(
            new Map(
                [
                    ['name', 'tom'],
                    ['age', 89]
                ]
            )
        )
        // set map
        const s = new Set([
            ['name', 'tom'],
            ['age', 89]
        ])
        console.log(s);
        console.log(new Map(s));


        const m1 = new Map([
            ['name', 'tom'],
            ['age', 89]
        ])
        const m2 = new Map(m1);
        console.log(m2, m2 === m1);
        m2.set('c', 33);
        console.log(m2);

        m1.set(NaN, 1).set(NaN, 2) //nan自等，覆盖
        console.log(m1);



        // Map应用
        // 普通键值
        const [p1, p2, p3] = document.querySelectorAll('p');
        const m3 = new Map([
            [p1, 'red'],
            [p2, 'green'],
            [p3, 'blue']
        ])
        m3.forEach((colorss, elem) => {
            elem.style.backgroundColor = colorss;
        })
        console.log(m3);

        // 值为对象
        const m4 = new Map([
            [p1, { color: 'red', backgroundColor: 'yellow', fontSize: '40px' }],
            [p2, { color: 'green', backgroundColor: 'pink', fontSize: '80px' }],
            [p3, { color: 'blue', backgroundColor: 'orange', fontSize: '60px' }]
        ])
        m4.forEach((nnn, elem) => {
            for (const p in nnn) {
                elem.style[p] = nnn[p];
            }
        })
        console.log(m4);

        // 值为map   ?????????????????????????????????
        // const m5 = new Map([
        //     [p1, new Map(['color', 'red'], ['backgroundColor', 'pink'], ['fontSize', '50px'])],
        //     [p2, new Map(['color', 'blue'], ['backgroundColor', 'orange'], ['fontSize', '70px'])],
        //     [p3, new Map(['color', 'green'], ['backgroundColor', 'yellow'], ['fontSize', '100px'])]
        // ])
        // m5.forEach(function (nst, elem, map) {
        //     elem.style[p] = nst
        // })
        // console.log(m5);
    </script>
</body>

</html>